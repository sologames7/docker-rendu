{"version":3,"sources":["ThemeContext.js","components/Header/Header.jsx","components/Header/Menu.jsx","components/Common/Layout.jsx","components/RuleForm/RuleForm.jsx","components/LikeBtn/LikeBtn.jsx","components/Rule/Rule.jsx","components/RuleList/RuleList.jsx","App.jsx","index.js"],"names":["ThemeContext","createContext","theme","setTheme","ThemeProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","_jsx","Provider","value","Header","_useContext","useContext","_jsxs","className","onClick","Menu","location","useLocation","NavLink","to","pathname","Layout","Outlet","RuleForm","rules","setRules","navigate","useNavigate","id","useParams","console","log","title","description","titleValid","descValid","fields","setFields","changeField","event","str","tempFieldName","target","name","tempFields","_objectSpread","validField","length","validateDesc","onSubmit","idToEdit","preventDefault","confirm","tempRules","_toConsumableArray","concat","likes","dislikes","tags","submitForm","type","onChange","disabled","LikeBtn","_ref$defaultCount","defaultCount","count","setCount","FontAwesomeIcon","icon","faThumbsUp","faThumbsDown","Rule","rule","index","onDelete","folded","setFolded","role","faChevronDown","faChevronUp","_Fragment","faTrash","faEdit","RuleList","deleteRule","newRules","splice","map","App","useEffect","data","BrowserRouter","Routes","Route","path","element","exact","rootElement","document","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.811ebe89.chunk.js","sourcesContent":["import { createContext, useState } from \"react\";\n\nexport const ThemeContext = createContext({\n  theme: \"light\",\n  setTheme: () => {}\n});\n\nexport const ThemeProvider = ({ children }) => {\n  const [theme, setTheme] = useState(\"light\");\n\n  return (\n    <ThemeContext.Provider value={{ theme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n","import { useContext } from \"react\";\nimport { ThemeContext } from \"../../ThemeContext\";\n\nimport \"./Header.css\";\n\nconst Header = () => {\n  const { theme, setTheme } = useContext(ThemeContext);\n  const changeTheme = () => {\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\n  };\n  return (\n    <header className=\"header\">\n      <h1>Golden Rules</h1>\n      <button onClick={changeTheme}>{theme === \"light\" ? \"üåö\" : \"üåù\"}</button>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { NavLink, useLocation } from \"react-router-dom\";\n\nimport \"./Menu.css\";\n\nconst Menu = () => {\n  const location = useLocation();\n\n  return (\n    <nav>\n      <ul>\n        <li>\n          <NavLink\n            to=\"/\"\n            className={location.pathname === \"/\" ? \"selected\" : \"\"}\n          >\n            Home\n          </NavLink>\n        </li>\n        <li>\n          <NavLink\n            to=\"/new\"\n            className={location.pathname === \"/new\" ? \"selected\" : \"\"}\n          >\n            New\n          </NavLink>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Menu;\n","import { Outlet } from \"react-router-dom\";\nimport Header from \"../Header/Header\";\nimport Menu from \"../Header/Menu\";\n\nconst Layout = () => (\n  <main>\n    <Header />\n    <Menu />\n    <Outlet />\n  </main>\n);\n\nexport default Layout;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport \"./RuleForm.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst RuleForm = ({ rules, setRules }) => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  console.log(id);\n  console.log(rules[id]);\n\n  const [fields, setFields] = useState({\n    title: id ? rules[id].title : \"\",\n    description: id ? rules[id].description : \"\",\n    titleValid: id ? true : false,\n    descValid: true\n  });\n\n  function changeField(event) {\n    let tempFieldName = event.target.name;\n    let tempFields = { ...fields };\n    tempFields[tempFieldName] = event.target.value;\n\n    if (tempFieldName === \"title\") {\n      let validField = validateTitle(tempFields.title);\n      validField\n        ? (tempFields.titleValid = true)\n        : (tempFields.titleValid = false);\n\n      setFields(tempFields);\n    } else if (tempFieldName === \"description\") {\n      let validField = validateDesc(tempFields.description);\n      validField\n        ? (tempFields.descValid = true)\n        : (tempFields.descValid = false);\n\n      setFields(tempFields);\n    }\n  }\n\n  function validateTitle(str) {\n    if (str.length <= 100 && str.length > 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  function validateDesc(str) {\n    if ((str.length <= 100 && str.length >= 5) || str.length === 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  function submitForm(event, idToEdit) {\n    event.preventDefault();\n    if (idToEdit) {\n      if (confirm(\"Vous allez modifier une r√®gle\") === true) {\n        let tempRules = [...rules];\n        tempRules[id].title = fields.title;\n        tempRules[id].description = fields.description;\n        setRules(tempRules);\n        console.log(tempRules);\n        navigate(\"/\");\n      } else {\n        console.log(\"annul√©\");\n      }\n    } else {\n      if (confirm(\"Vous allez cr√©er une nouvelle r√®gle\") === true) {\n        let tempRules = [\n          ...rules,\n          {\n            id: rules[rules.length - 1].id + 1,\n            title: fields.title,\n            description: fields.description,\n            likes: 0,\n            dislikes: 0,\n            tags: []\n          }\n        ];\n        setRules(tempRules);\n        console.log(tempRules);\n        navigate(\"/\");\n      } else {\n        console.log(\"annul√©\");\n      }\n    }\n  }\n\n  return (\n    <form onSubmit={(event) => submitForm(event, id)}>\n      <label>Title:</label>\n      {!fields.titleValid && (\n        <p className=\"notValid\">Title must be not empty and max 50 char</p>\n      )}\n      <input\n        type=\"text\"\n        name=\"title\"\n        value={fields.title}\n        onChange={(event) => changeField(event)}\n      />\n\n      <label>Description:</label>\n      {!fields.descValid && (\n        <p className=\"notValid\">/!\\ minimum: 5 char | maximun: 100 char</p>\n      )}\n      <input\n        type=\"text\"\n        name=\"description\"\n        value={fields.description}\n        onChange={(event) => changeField(event)}\n      />\n\n      <input\n        type=\"submit\"\n        value=\"Submit\"\n        disabled={!(fields.titleValid && fields.descValid)}\n      />\n    </form>\n  );\n};\n\nexport default RuleForm;\n","import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faThumbsDown, faThumbsUp } from \"@fortawesome/free-solid-svg-icons\";\n\nimport \"./LikeBtn.css\";\n\nfunction LikeBtn({ type, defaultCount = 0 }) {\n  const [count, setCount] = useState(defaultCount);\n  return (\n    <button\n      type=\"button\"\n      onClick={() => setCount(count + 1)}\n      className={`like-button ${type === \"like\" ? \"like\" : \"dislike\"}`}\n      title=\"+1\"\n    >\n      {count}{\" \"}\n      <FontAwesomeIcon icon={type === \"like\" ? faThumbsUp : faThumbsDown} />\n    </button>\n  );\n}\n\nexport default LikeBtn;\n","// NPM dependencies\nimport { useContext, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronDown,\n  faChevronUp,\n  faEdit,\n  faTrash\n} from \"@fortawesome/free-solid-svg-icons\";\n\n// local dependencies\nimport \"./Rule.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport LikeBtn from \"../LikeBtn/LikeBtn\";\nimport { ThemeContext } from \"../../ThemeContext\";\n\n/**\n * Display a single rule.\n */\nfunction Rule({ rule, index, onDelete }) {\n  const { theme } = useContext(ThemeContext);\n  const navigate = useNavigate();\n  const [folded, setFolded] = useState(false);\n\n  // useEffect(() => () => {\n  //   alert('Rules unmounted');\n  // }, []);\n\n  // useEffect(() => {\n  //   alert('Component updated');\n  // });\n\n  return (\n    <section\n      className={`rule ${\n        theme === \"dark\" ? \"dark__container\" : \"light__container\"\n      }`}\n    >\n      <header\n        className=\"rule__header\"\n        role=\"presentation\"\n        onClick={() => setFolded(!folded)}\n      >\n        {rule.title}{\" \"}\n        {folded ? (\n          <FontAwesomeIcon icon={faChevronDown} className=\"fold-icon\" />\n        ) : (\n          <FontAwesomeIcon icon={faChevronUp} className=\"fold-icon\" />\n        )}\n      </header>\n      {!folded && (\n        <>\n          <p className=\"rule__content\">{rule.description}</p>\n          <footer className=\"rule__footer\">\n            <div className=\"rule__action-buttons\">\n              <LikeBtn defaultCount={rule.likes} type=\"like\" />\n              <LikeBtn defaultCount={rule.dislikes} type=\"dislike\" />\n              <FontAwesomeIcon icon={faTrash} onClick={() => onDelete(index)} />\n              <FontAwesomeIcon\n                icon={faEdit}\n                onClick={() => navigate(`/edit/${index}`)}\n              />\n            </div>\n          </footer>\n        </>\n      )}\n    </section>\n  );\n}\n\nexport default Rule;\n","// local dependencies\nimport Rule from \"../Rule/Rule\";\n\n/**\n * Display list of rules.\n */\nfunction RuleList({ rules, setRules }) {\n  const deleteRule = (index) => {\n    const newRules = [...rules];\n    newRules.splice(index, 1);\n    setRules(newRules);\n  };\n\n  // useEffect(() => {\n  //   alert('Rules list updated');\n  // }, [rules]);\n\n  return (\n    rules &&\n    rules.map((rule, index) => (\n      <Rule key={rule.id} rule={rule} index={index} onDelete={deleteRule} />\n    ))\n  );\n}\n\nexport default RuleList;\n","// NPM dependencies\nimport { useEffect, useState } from \"react\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\n\n// Local dependencies\nimport Layout from \"./components/Common/Layout\";\nimport RuleForm from \"./components/RuleForm/RuleForm\";\nimport { ThemeProvider } from \"./ThemeContext\";\nimport RuleList from \"./components/RuleList/RuleList\";\nimport data from \"./data/data.json\";\n\nfunction App() {\n  const [rules, setRules] = useState();\n\n  useEffect(() => {\n    setRules(data);\n  }, []);\n\n  return (\n    <ThemeProvider>\n      <BrowserRouter>\n        <Routes>\n          <Route path=\"\" element={<Layout />}>\n            <Route\n              exact\n              path=\"/\"\n              element={<RuleList rules={rules} setRules={setRules} />}\n            />\n            <Route\n              path=\"/new\"\n              element={<RuleForm rules={rules} setRules={setRules} />}\n            />\n            <Route\n              path=\"/edit/:id\"\n              element={<RuleForm rules={rules} setRules={setRules} />}\n            />\n          </Route>\n        </Routes>\n      </BrowserRouter>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}