(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{26:function(e){e.exports=JSON.parse('[{"id":1,"title":"If you don\'t have a mobile website, you don\'t have a website.","description":"In 2014, 50% of worldwide traffic uses mobile. A website must adapt the content for mobile.","likes":0,"dislikes":0,"tags":["ui"]},{"id":2,"title":"Leave the code cleaner than you found it.","description":"From Clean Code: always leave the code cleaner than it was before.","likes":0,"dislikes":0,"tags":["craftsmanship","clean code"]},{"id":3,"title":"Never say : \\"I\'ve done, it works on my machine !\\" #itworksonmymachine","likes":0,"dislikes":0,"tags":[]},{"id":4,"title":"Always use === in JavaScript!","likes":0,"dislikes":0,"tags":["javascript"]}]')},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n(24),s=n(4),l=n(9),a=n(3),r=n(2),o=Object(i.createContext)({theme:"light",setTheme:function(){}}),j=function(e){var t=e.children,n=Object(i.useState)("light"),c=Object(s.a)(n,2),l=c[0],a=c[1];return Object(r.jsx)(o.Provider,{value:{theme:l,setTheme:a},children:t})},u=(n(36),function(){var e=Object(i.useContext)(o),t=e.theme,n=e.setTheme;return Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)("h1",{children:"Golden Rules"}),Object(r.jsx)("button",{onClick:function(){n("light"===t?"dark":"light")},children:"light"===t?"\ud83c\udf1a":"\ud83c\udf1d"})]})}),d=(n(37),function(){var e=Object(a.k)();return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/",className:"/"===e.pathname?"selected":"",children:"Home"})}),Object(r.jsx)("li",{children:Object(r.jsx)(l.b,{to:"/new",className:"/new"===e.pathname?"selected":"",children:"New"})})]})})}),b=function(){return Object(r.jsxs)("main",{children:[Object(r.jsx)(u,{}),Object(r.jsx)(d,{}),Object(r.jsx)(a.a,{})]})},h=n(7),O=n(25),m=(n(38),function(e){var t=e.rules,n=e.setRules,c=Object(a.m)(),l=Object(a.o)().id;console.log(l),console.log(t[l]);var o=Object(i.useState)({title:l?t[l].title:"",description:l?t[l].description:"",titleValid:!!l,descValid:!0}),j=Object(s.a)(o,2),u=j[0],d=j[1];function b(e){var t,n=e.target.name,i=Object(O.a)({},u);if(i[n]=e.target.value,"title"===n){var c=(t=i.title).length<=100&&t.length>0;i.titleValid=!!c,d(i)}else if("description"===n){var s=function(e){return e.length<=100&&e.length>=5||0===e.length}(i.description);i.descValid=!!s,d(i)}}return Object(r.jsxs)("form",{onSubmit:function(e){return function(e,i){if(e.preventDefault(),i)if(!0===confirm("Vous allez modifier une r\xe8gle")){var s=Object(h.a)(t);s[l].title=u.title,s[l].description=u.description,n(s),console.log(s),c("/")}else console.log("annul\xe9");else if(!0===confirm("Vous allez cr\xe9er une nouvelle r\xe8gle")){var a=[].concat(Object(h.a)(t),[{id:t[t.length-1].id+1,title:u.title,description:u.description,likes:0,dislikes:0,tags:[]}]);n(a),console.log(a),c("/")}else console.log("annul\xe9")}(e,l)},children:[Object(r.jsx)("label",{children:"Title:"}),!u.titleValid&&Object(r.jsx)("p",{className:"notValid",children:"Title must be not empty and max 50 char"}),Object(r.jsx)("input",{type:"text",name:"title",value:u.title,onChange:function(e){return b(e)}}),Object(r.jsx)("label",{children:"Description:"}),!u.descValid&&Object(r.jsx)("p",{className:"notValid",children:"/!\\ minimum: 5 char | maximun: 100 char"}),Object(r.jsx)("input",{type:"text",name:"description",value:u.description,onChange:function(e){return b(e)}}),Object(r.jsx)("input",{type:"submit",value:"Submit",disabled:!(u.titleValid&&u.descValid)})]})}),x=n(14),f=n(11);n(41),n(42);var p=function(e){var t=e.type,n=e.defaultCount,c=void 0===n?0:n,l=Object(i.useState)(c),a=Object(s.a)(l,2),o=a[0],j=a[1];return Object(r.jsxs)("button",{type:"button",onClick:function(){return j(o+1)},className:"like-button ".concat("like"===t?"like":"dislike"),title:"+1",children:[o," ",Object(r.jsx)(x.a,{icon:"like"===t?f.e:f.d})]})};var v=function(e){var t=e.rule,n=e.index,c=e.onDelete,l=Object(i.useContext)(o).theme,j=Object(a.m)(),u=Object(i.useState)(!1),d=Object(s.a)(u,2),b=d[0],h=d[1];return Object(r.jsxs)("section",{className:"rule ".concat("dark"===l?"dark__container":"light__container"),children:[Object(r.jsxs)("header",{className:"rule__header",role:"presentation",onClick:function(){return h(!b)},children:[t.title," ",b?Object(r.jsx)(x.a,{icon:f.a,className:"fold-icon"}):Object(r.jsx)(x.a,{icon:f.b,className:"fold-icon"})]}),!b&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{className:"rule__content",children:t.description}),Object(r.jsx)("footer",{className:"rule__footer",children:Object(r.jsxs)("div",{className:"rule__action-buttons",children:[Object(r.jsx)(p,{defaultCount:t.likes,type:"like"}),Object(r.jsx)(p,{defaultCount:t.dislikes,type:"dislike"}),Object(r.jsx)(x.a,{icon:f.f,onClick:function(){return c(n)}}),Object(r.jsx)(x.a,{icon:f.c,onClick:function(){return j("/edit/".concat(n))}})]})})]})]})};var k=function(e){var t=e.rules,n=e.setRules,i=function(e){var i=Object(h.a)(t);i.splice(e,1),n(i)};return t&&t.map((function(e,t){return Object(r.jsx)(v,{rule:e,index:t,onDelete:i},e.id)}))},g=n(26);var y=function(){var e=Object(i.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(i.useEffect)((function(){c(g)}),[]),Object(r.jsx)(j,{children:Object(r.jsx)(l.a,{children:Object(r.jsx)(a.d,{children:Object(r.jsxs)(a.b,{path:"",element:Object(r.jsx)(b,{}),children:[Object(r.jsx)(a.b,{exact:!0,path:"/",element:Object(r.jsx)(k,{rules:n,setRules:c})}),Object(r.jsx)(a.b,{path:"/new",element:Object(r.jsx)(m,{rules:n,setRules:c})}),Object(r.jsx)(a.b,{path:"/edit/:id",element:Object(r.jsx)(m,{rules:n,setRules:c})})]})})})})},w=document.getElementById("root");Object(c.createRoot)(w).render(Object(r.jsx)(i.StrictMode,{children:Object(r.jsx)(y,{})}))}},[[43,1,2]]]);
//# sourceMappingURL=main.811ebe89.chunk.js.map